# Accessibility

This section describes how to make accessible the Optional Objects.

## User input fields

### File, FileList and ImageSelect

File, FileList and ImageSelect fields have the following accessibility properties:
- `ShowAccessibility` (boolean): if true, the UI shows the accessibility icon, that opens a popup to insert alternative text and title for each file or, alternatively, to mark the file as decorative (that is, the file has no meaningful content so has to be ignored by screen readers);
- `IsDecorativeAsDefault` (boolean): if true, as soon as a file is selected, it's marked as decorative; the user can always mark it as non-decorative and set alternative text and title.

The usage of these properties is intended as follows:
- if the field contain a file that is **always decorative**, the above properties must be omitted (or set to false) and the generated HTML needs no editing;
- if the field contain a file whose **meaning is known** (for example the icon for the previous or next button), the above properties must be omitted (or set to false) and the alternative text (localized) has to be inserted manually inside the generated HTML
(in `alt` attribute for img elements, or `aria-label` attribute for the other elements);
- otherwise, `ShowAccessibility` has to be set to true, to let the user insert the correct alternative text and title (or to mark the file as decorative); if the field usually (but not always) contains files that are decorative (for example backgrounds or separators),
`IsDecorativeAsDefault` has to be set to true (to avoid the user has to manually set the file as decorative); the alternative text and title has to be inserted manually inside the generated HTML using the helpers methods `a11y.generateAccessibilityPropsHTML`, `a11y.getAlt` and `a11y.getTitle` as described below.

NOTE:
- FileList's `AltTitleEnabled` must be replaced by `ShowAccessibility` (although it's still supported for backward compatibility)
- FileList's `ElementList=false` mode doesn't support accessibility properties, so `ElementList` must be set to true

## JavaScript helpers functions

The following JavaScript helpers functions are defined to help the generation of HTML code for the accessibility properties.

### `a11y.generateAccessibilityPropsHTML(obj, tagType)`

Returns a string containing the HTML code for the alternative text and title; these values are defined as `alt` or `aria-label` attribute (depending on the tag type) and `title` attribute.
The generated code always starts and ends with a space and must be inserted inside the HTML tag that contains an image (for example an img tag or a div tag with background image).

Parameters:
- `obj`: the field that contains the accessibility properties (for example `parameters.field_name`)
- `tagType`: the tag type to which add the accessibility properties (for example `img` or `div`)

Example:
```js
<img src="<?wsx5 document.write(parameters.img1.path); ?>" <?wsx5 document.write(a11y.generateAccessibilityPropsHTML(parameters.img1, 'img')); ?> >
document.write('<div style="background-image: url(\'' + parameters.img2.path + '\');"' + a11y.generateAccessibilityPropsHTML(parameters.img2, 'div') + '></div>');
```

### `a11y.getAlt(obj)` and `a11y.getTitle(obj)`

Returns only the value of alternative text and title, without the attribute name. Use these functions only when HTML code is generated by an external library (that accept alternative text and/or title as parameters)
so `a11y.generateAccessibilityPropsHTML(obj, tagType)` can't be used.

Parameters:
- `obj`: the field that contains the accessibility properties (for example `parameters.field_name`)

Example:
```js
externalLibrary.generateElement({ path: parameters.img1.path, alt: a11y.getAlt(parameters.img1), title: a11y.getTitle(parameters.img1) });
```
